app:
  name: "Currency Assistant"
  version: "0.1.0"
  debug: false

database:
  type: "sqlite"
  path: "data/currency_assistant.db"
  echo: false  # SQL logging

cache:
  type: "memory"
  default_ttl: 300  # 5 minutes
  max_size: 1000

api:
  exchange_rate_host:
    base_url: "https://api.exchangerate.host"
    timeout: 10
  serper:
    base_url: "https://google.serper.dev"
    timeout: 10
    enable_whitelist: true
    domain_whitelist:
      - reuters.com
      - bloomberg.com
      - ft.com
      - wsj.com
      - apnews.com
      - bbc.com
      - cnbc.com
      - marketwatch.com
      - economist.com
      - fxstreet.com
      - forex.com
      - investing.com
      - tradingeconomics.com

agents:
  market_data:
    cache_ttl: 5  # seconds
    providers: ["exchange_rate_host", "yfinance"]
  market_intelligence:
    cache_ttl: 60
    lookback_days: 7
    # Maximum number of articles to classify per pair
    max_articles: 4
    # Maximum number of calendar sources to extract events from (per currency)
    max_calendar_sources: 2
    # Maximum concurrent LLM requests for parallel processing
    max_concurrent_llm_calls: 10
    currency_regions:
      USD: US
      EUR: EA
      GBP: GB
      JPY: JP
      CHF: CH
      CAD: CA
      AUD: AU
      NZD: NZ
      SEK: SE
      NOK: NO
      DKK: DK
      PLN: PL
      TRY: TR
      ZAR: ZA
      CNY: CN
      HKD: HK
      SGD: SG
      KRW: KR
      INR: IN
      THB: TH
      IDR: ID
      MXN: MX
      BRL: BR
      ILS: IL
      TWD: TW
      HUF: HU
      CZK: CZ
      RON: RO
  prediction:
    cache_ttl: 300
    horizons: [1, 7, 30]
  decision:
    risk_levels:
      conservative: 0.05
      moderate: 0.10
      aggressive: 0.15

prediction:
  prediction_horizons: [1, 7, 30]
  cache_ttl_hours: 1
  predictor_backend: "hybrid"  # lightgbm | lstm | hybrid
  features_mode: "price_only"  # price_only | price_plus_intel

  technical_indicators:
    - sma_5
    - sma_20
    - sma_50
    - ema_12
    - ema_26
    - rsi_14
    - macd
    - macd_signal
    - bb_upper
    - bb_lower
    - bb_middle
    - atr_14
    - volatility_20

  min_history_days: 100
  max_history_days: 365

  # Quality gates
  min_samples_required: 500
  min_validation_coverage: 0.85
  min_directional_accuracy: 0.52

  # Fallback
  enable_fallback_heuristics: true
  fallback_strength_pct: 0.15

  # Model registry storage
  model_registry_path: "data/models/prediction_registry.json"
  model_storage_dir: "data/models/prediction/"
  # Explanations (Phase 2 evidence for UI)
  explain_enabled: false
  explain_include_plots: false
  explain_top_n: 5
  # Horizon routing
  default_timeframe: "1_day"  # or "immediate", "1_week", "1_month"
  use_user_timeframe: true     # if true, prefer timeframe parsed from user message
  include_intraday_for_1_day: false
  intraday_horizons: [1, 4, 24]
  daily_horizons: [1, 7, 30]

logging:
  enabled: false  # Set to true to enable logging, false to disable completely
  level: "INFO"
  format: "json"
  file: "logs/currency_assistant.log"

llm:
  default_provider: "copilot"
  providers:
    copilot:
      model: "gpt-4o-2024-11-20"
      enabled: true
      kwargs:
        temperature: 0.7
        max_tokens: 128000
    copilot_mini:
      model: "gpt-5-mini"
      enabled: true
      kwargs:
        temperature: 0.7
        max_tokens: 128000
    copilot_claude:
      model: "claude-3.5-sonnet"
      enabled: true
      kwargs:
        temperature: 0.7
        max_tokens: 128000
    openai:
      model: "gpt-4"
      enabled: false
      kwargs:
        temperature: 0.7
        max_tokens: 200000
    claude:
      model: "claude-4"
      enabled: false
      kwargs:
        temperature: 0.7
        max_tokens: 200000
  failover:
    enabled: true
    order: ["copilot", "copilot_mini", "openai", "claude"]
